/* 
 * This file is automatically generated by CLIDE
 */

#include <dsplib/platform_support.h>
#include <stddef.h>

// Include primitives header files
#include "../inc/M70_PI___START___2_mcv.h"
#include "../inc/M70_PI_filter_highpass_transposed_direct_II_11_mcv.h"
#include "../inc/M70_PI_simple_gain_db_6_mcv.h"
#include "../inc/__mc_copy___0_mcv.h"
#include "../inc/M70_PI_simple_delay_ms_8_mcv.h"
#include "../inc/M70_PI_simple_sum_12_mcv.h"
#include "../inc/M70_PI___END___4_mcv.h"
#include "../inc/example_composer_module_common.h"

// Primitives PCT symbols
extern __memY int* __START__pct;
extern __memY int* filter_highpass_transposed_direct_II_pct;
extern __memY int* simple_gain_db_pct;
extern __memY int* __mc_copy__pct;
extern __memY int* X_P_BY_Simple_delay_ms_PCT;
extern __memY int* simple_sum_pct;
extern __memY int* __END__pct;

// Generate MCV - Module Control Vector for example_composer_module
typedef struct {
	int sample_rate[1];	// padding words
	M70_PI___END___4_PUBLIC_DATA_t M70_PI___END___4_PUBLIC_DATA;
	M70_PI_simple_gain_db_6_PUBLIC_DATA_t M70_PI_simple_gain_db_6_PUBLIC_DATA;
	M70_PI_simple_delay_ms_8_PUBLIC_DATA_t M70_PI_simple_delay_ms_8_PUBLIC_DATA;
	M70_PI_filter_highpass_transposed_direct_II_11_PUBLIC_DATA_t M70_PI_filter_highpass_transposed_direct_II_11_PUBLIC_DATA;
	M70_PI_simple_sum_12_PUBLIC_DATA_t M70_PI_simple_sum_12_PUBLIC_DATA;
} module_mcv_t;

// Constants
extern __memX int cl_constant_one_x;
extern __memX int cl_constant_zero_x;
extern __memY int cl_constant_one_y;
extern __memY int cl_constant_zero_y;
extern __memY fract* __memY cl_buffer_ground_PTR;
extern __memY fract* __memY cl_buffer_silence_PTR;
		
// MCV initialization
__memY module_mcv_t M70_CC_MCV = 
{
	0,	//sample_rate
	{ 0, { { false }, { false }, { false }, { false }, { false }, { false }, { false }, { false }, { false }, { false }, { false }, { false } } },
	{ FRACT_NUM_SCALE_R(-3, 23), false },
	{ true, FRACT_NUM_SCALE_R(10, 16) },
	{ 3000, FRACT_NUM_SCALE_R(0.01, 31), FRACT_NUM_SCALE_R(0, 30), { { FRACT_NUM_SCALE_R(0.9999999995343387, 31), FRACT_NUM_SCALE_R(0.9999999995343387, 31), 1 }, { FRACT_NUM_SCALE_R(0.9999999995343387, 31), FRACT_NUM_SCALE_R(0.9999999995343387, 31), 1 } }, false },
	{ 0 }
};

// MCT initialization
extern void M70_CC_postKickstart();
extern void M70_CC_frame();
extern void M70_CC_brick();
extern void M70_CC_background();
extern void M70_CC_postMallocInit();
extern void M70_CC_preMallocInit();
static __memY mct_t M70_CC_MCT =
{
	0,			                            /* prekick function */
	&M70_CC_postKickstart,			        /* postkick function */
	0,							            /* timer function */
	&M70_CC_frame,							/* frame function */
	&M70_CC_brick,							/* brick function */
	0,										/* reserved */
	&M70_CC_background,				        /* background function */
	&M70_CC_postMallocInit,		            /* post-malloc function */
	&M70_CC_preMallocInit 					/* pre-malloc function */
};

// Composer module mif
__memY mif_t  M70_CC_MIF = 
{
	&M70_CC_MCV, 
	&M70_CC_MCT
};

// CC buffers
static __memY fract ALIGNED(16) M70_CC_BUFFER_0[16];
static __memY fract ALIGNED(16) M70_CC_BUFFER_3[16];
static __memY fract ALIGNED(16) M70_CC_BUFFER_1[16];
static __memY fract ALIGNED(16) M70_CC_BUFFER_2[16];

// CC buffer pointers
static __memY fract* __memY M70_CC_BUFFER_0_PTR = M70_CC_BUFFER_0;
static __memY fract* __memY M70_CC_BUFFER_3_PTR = M70_CC_BUFFER_3;
static __memY fract* __memY M70_CC_BUFFER_1_PTR = M70_CC_BUFFER_1;
static __memY fract* __memY M70_CC_BUFFER_2_PTR = M70_CC_BUFFER_2;

// Primitives private structures. If any primitive has more then one private structure we will generate new structure with pointers on other private structures
static __memX M70_PI___START___2_PRIVATE_DATA_1_t M70_PI___START___2_PRIVATE_DATA_1 = 
{ &cl_prim_gain_down_24db, 3 };

static __memXY M70_PI_filter_highpass_transposed_direct_II_11_PRIVATE_DATA_2_t M70_PI_filter_highpass_transposed_direct_II_11_PRIVATE_DATA_2 = 
{ 0, { { 0x0000000100000001, 0x0000000100000001, 0x0000000000000000, 0x0000000000000000 }, { 0x0000000100000001, 0x0000000100000001, 0x0000000000000000, 0x0000000000000000 } } };

static __memX M70_PI_filter_highpass_transposed_direct_II_11_PRIVATE_DATA_1_t M70_PI_filter_highpass_transposed_direct_II_11_PRIVATE_DATA_1 = 
{ &cl_biquad_prim_register_coeffs, &cl_constant_zero_x, (fract __memY* __memY*) &X_BY_IOBUFFER_0_PTR, &M70_CC_BUFFER_0_PTR, 2, 0, 0, &M70_CC_MCV.M70_PI_filter_highpass_transposed_direct_II_11_PUBLIC_DATA.clip };

static __memX M70_PI_simple_gain_db_6_PRIVATE_DATA_1_t M70_PI_simple_gain_db_6_PRIVATE_DATA_1 = 
{ &cl_constant_zero_x, (fract __memY* __memY*) &X_BY_IOBUFFER_1_PTR, &M70_CC_BUFFER_1_PTR };

static __memX __mc_copy___0_PRIVATE_DATA_1_t __mc_copy___0_PRIVATE_DATA_1 = 
{ 1, (fract __memY* __memY*) &X_BY_IOBUFFER_1_PTR, &M70_CC_BUFFER_2_PTR };

static __memX M70_PI_simple_delay_ms_8_PRIVATE_DATA_1_t M70_PI_simple_delay_ms_8_PRIVATE_DATA_1 = 
{ 0, &cl_constant_zero_x, &M70_CC_BUFFER_1_PTR, &M70_CC_BUFFER_3_PTR, 16, 0, 496, 1 };

static __memX M70_PI_simple_sum_12_PRIVATE_DATA_1_t M70_PI_simple_sum_12_PRIVATE_DATA_1 = 
{ &cl_constant_zero_x, &M70_CC_BUFFER_1_PTR, (fract __memY* __memY*) &X_BY_IOBUFFER_1_PTR, &M70_CC_BUFFER_3_PTR };

static __memX M70_PI___END___4_PRIVATE_DATA_1_t M70_PI___END___4_PRIVATE_DATA_1 = 
{ &cl_prim_gain_up_24db, 15, true, &M70_CC_BUFFER_0_PTR, &M70_CC_BUFFER_3_PTR, &M70_CC_BUFFER_1_PTR, &M70_CC_BUFFER_2_PTR, &cl_buffer_silence_PTR, &cl_buffer_silence_PTR, &cl_buffer_silence_PTR, &cl_buffer_silence_PTR, &cl_buffer_silence_PTR, &cl_buffer_silence_PTR, &cl_buffer_silence_PTR, &cl_buffer_silence_PTR };

// Heap buffer allocation
__memY int M70_CC_MALLOCED = 1;
__memY heap_buffer_info_t M70_CC_MALLOC_PTR[2] = {
	&M70_PI_simple_delay_ms_8_PRIVATE_DATA_1.delay_buffer_ptr, 1, 496, 0, 
	0, 0, 0, 0
};

// Module primitives
__memY primitive_info_t M70_CC_PCT[8] = 
{
	(pct_t*) &__START__pct, 0, (void*) &M70_PI___START___2_PRIVATE_DATA_1, 0,
	(pct_t*) &filter_highpass_transposed_direct_II_pct, (void*) &M70_CC_MCV.M70_PI_filter_highpass_transposed_direct_II_11_PUBLIC_DATA, (void*) &M70_PI_filter_highpass_transposed_direct_II_11_PRIVATE_DATA_1, (void*) &M70_PI_filter_highpass_transposed_direct_II_11_PRIVATE_DATA_2,
	(pct_t*) &simple_gain_db_pct, (void*) &M70_CC_MCV.M70_PI_simple_gain_db_6_PUBLIC_DATA, (void*) &M70_PI_simple_gain_db_6_PRIVATE_DATA_1, 0,
	(pct_t*) &__mc_copy__pct, 0, (void*) &__mc_copy___0_PRIVATE_DATA_1, 0,
	(pct_t*) &X_P_BY_Simple_delay_ms_PCT, (void*) &M70_CC_MCV.M70_PI_simple_delay_ms_8_PUBLIC_DATA, (void*) &M70_PI_simple_delay_ms_8_PRIVATE_DATA_1, 0,
	(pct_t*) &simple_sum_pct, (void*) &M70_CC_MCV.M70_PI_simple_sum_12_PUBLIC_DATA, (void*) &M70_PI_simple_sum_12_PRIVATE_DATA_1, 0,
	(pct_t*) &__END__pct, (void*) &M70_CC_MCV.M70_PI___END___4_PUBLIC_DATA, (void*) &M70_PI___END___4_PRIVATE_DATA_1, 0,
	0, 0, 0, 0 
};
